{% extends 'base.html.twig' %}

{% block title %}{{ article.title }}{% endblock %}

{% block body %}
<h1>{{ article.title }}</h1>
<p>{{ article.content }}</p>

{{ form_start(commentForm, {'action': path('article_comment', {'id': article.id})}) }}
    {{ form_widget(commentForm) }}
    <button type="submit" class="btn btn-primary">Submit Comment</button>
{{ form_end(commentForm) }}

<h2>Comments</h2>
{% for comment in article.comments %}
    <div>
        <p>{{ comment.author.email }} says:</p>
        <p>{{ comment.content }}</p>
        <p>Posted on {{ comment.createdAt|date('Y-m-d H:i:s') }}</p>
    </div>
{% else %}
    <p>No comments yet.</p>
{% endfor %}
{% endblock %}
